---
title: "4-Launching and sharing"
date: "11/26/2021"
output:
  html_document: 
    keep_md: yes
    toc: true
  md_document:
    variant: gfm
---

```{r, setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Launching the browser

Once both the data and browser are appropriately formatted and configured, 
you are ready to browse your data!

Ensuring your working directory contains the `app_config.yml` file,
launch the application by executing the following line of code:

```{r, 4-browse-1, eval=FALSE}
omicser::run_defaults()
```

Your application should automatically load in a new tab/window of your default browser (tested on Chrome and Firefox).  If you prefer, there is also an exported `run_in_browser()` function which takes the database locations as arguments:

```{r, 4-browse-2, eval=FALSE}
omicser::run_in_browser(db_root = "/path/to/database/folders",
                        database_names = c(`your db name`="database_folder_name")
                        )
```

Please note that you need to keep RStudio running to work with data in your browser.

> When you are done browsing,
> you will need to close both the browser window **and** end the process running in RStudio.
> You can end the process in R by clicking on the red stop sign icon in your Console,
> or by entering `Control C` in the Console.

If you would like an overview of the features and functionality of the browser,
please view the [Browsing vignette](browsing.md).

## Documenting the data and analysis

It is useful, and in many cases necessary, to include information about your data and analysis methods when sharing a visualization tool with your colleagues.
This section describes approaches for sharing such information within the browser application.

### database context

The box on the right of the `Ingest` tab in the browser application is available for documenting both analysis methods (pre-processing approaches/assumptions, hypotheses being tested, statistical parameters) as well as information about the project (link to preprint/publication, acknowledgements, etc).

The content of this tab is rendered from [`additional_info.Rmd`](https://github.com/ndcn/omicser/blob/main/inst/app/www/additional_info.Rmd).
If you choose to customize this file,
you must organize your browser application files within a copy (clone) of the [`omicser`](https://github.com/ndcn/omicser).
This ensures that your modified copy of `additional_info.Rmd` is read when you launch your browser,
instead of the original version from your installed library. 

## Share your application

Now that you have successfully curated, configured, and launched your application,
you may choose to share the tool with your collaborators.
There are two main methods for sharing:

- **Send a zip file**: Share all database, configuration, and customization files as a zip file. Your collaborators will need to unzip the file, install the `omicser` package (and requirements) and launch the browser to view the application locally on their own computer's R / RStudio.

- **Host the application**: Launch the browser on a shared network server that can run R indefinitely. Your collaborators will be able to access the browser via a URL.

> Please be congnizant of possible data privacy and security issues when choosing a method for sharing your application. These issues are specific to your data and research questions.

## Troubleshooting

- **The app didn't open in my browser! What do I do?** If the app does not load automatically,
copy the URL shown into your Console (e.g., `http://127.0.0.1:6329`)
and paste it into your browser of choice. (Chrome recommended.)

- **I closed my browser window! Do I need to relaunch my app?** No, you don't need to relaunch. Follow the instructions for the question above to view your app in a browser. 
